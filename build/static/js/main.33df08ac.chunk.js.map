{"version":3,"sources":["components/Person.js","components/Content.js","components/PersonForm.js","components/Filter.js","components/Notification.js","services/phonebook.js","App.js","index.js"],"names":["Person","person","handleDelete","name","number","onClick","id","Content","persons","handleDeleteOf","map","PersonForm","newNameValue","newNumberValue","addPerson","handleNameChange","handleNumberChange","onSubmit","value","onChange","type","Filter","successStyle","color","background","font_size","border_style","border_radius","padding","margin_bottom","errorStyle","Notification","message","includes","style","className","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","filter","setNewFilter","setMessage","useEffect","phonebookService","initialPersons","event","target","regex","RegExp","match","preventDefault","find","some","alert","window","confirm","updatedPerson","returnedPerson","catch","error","console","log","setTimeout","personObject","length","concat","p","deletedPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.33df08ac.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Person = ({ person, handleDelete }) => {\n  return (\n    <li key={person.id}>\n      {person.name} | {person.number}\n      <button onClick={handleDelete}>delete</button>\n    </li>\n  );\n};\n\nexport default Person;\n","import React from \"react\";\nimport Person from \"./Person\";\n\nconst Content = ({ persons, handleDeleteOf }) => {\n  return (\n    <>\n      <h2>Numbers</h2>\n      <ul>\n        {persons.map((person) => (\n          <Person\n            key={person.id}\n            person={person}\n            handleDelete={() => handleDeleteOf(person.id)}\n          />\n        ))}\n      </ul>\n    </>\n  );\n};\n\nexport default Content;\n","import React from \"react\";\n\nconst PersonForm = ({\n  newNameValue,\n  newNumberValue,\n  addPerson,\n  handleNameChange,\n  handleNumberChange,\n}) => {\n  return (\n    <>\n      <h3>Add new person</h3>\n      <form onSubmit={addPerson}>\n        <div>\n          name: <input value={newNameValue} onChange={handleNameChange} />\n        </div>\n        <div>\n          number: <input value={newNumberValue} onChange={handleNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Filter = ({ value, onChange }) => {\n  return (\n    <div>\n      filter shown with <input value={value} onChange={onChange} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst successStyle = {\n  color: \"green\",\n  background: \"lightgrey\",\n  font_size: 20,\n  border_style: \"solid\",\n  border_radius: 5,\n  padding: 10,\n  margin_bottom: 10,\n};\n\nconst errorStyle = {\n  color: \"red\",\n  background: \"lightgrey\",\n  font_size: 20,\n  border_style: \"solid\",\n  border_radius: 5,\n  padding: 10,\n  margin_bottom: 10,\n};\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n\n  if (message.includes(\"ERROR\")) {\n    return (\n      <div style={errorStyle} className=\"error\">\n        {message}\n      </div>\n    );\n  } else {\n    return (\n      <div style={successStyle} className=\"error\">\n        {message}\n      </div>\n    );\n  }\n};\n\nexport default Notification;\n","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\n// retrieves all the persons from the json server\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\n// adds a new person object into the json server\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\n// updates the person object in the json server\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nexport default {\n  getAll,\n  create,\n  update,\n  remove,\n};\n","import React, { useState, useEffect } from \"react\";\nimport Content from \"./components/Content\";\nimport PersonForm from \"./components/PersonForm\";\nimport Filter from \"./components/Filter\";\nimport Notification from \"./components/Notification\";\n\nimport phonebookService from \"./services/phonebook\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setNewFilter] = useState(\"\");\n  const [message, setMessage] = useState(null);\n\n  // retrieves the data from json server\n  useEffect(() => {\n    phonebookService.getAll().then((initialPersons) => {\n      setPersons(initialPersons);\n    });\n  }, []);\n\n  // adds a person to the phonebook\n  const addPerson = (event) => {\n    event.preventDefault();\n    const person = persons.find((person) => person.name === newName);\n\n    // checking if the name is already added\n    if (persons.some((person) => person.name === newName)) {\n      setNewName(\"\");\n      setNewNumber(\"\");\n      alert(`${newName} is already added to the phonebook!`);\n\n      // Prompt to update number\n      if (persons.some((person) => person.number !== newNumber)) {\n        if (\n          window.confirm(\n            `${person.name} is already added, replace the old number with a new one?`\n          )\n        ) {\n          const updatedPerson = { ...person, number: newNumber };\n          phonebookService\n            .update(person.id, updatedPerson)\n            .then((returnedPerson) => {\n              setPersons(\n                persons.map((person) =>\n                  person.name !== newName ? person : returnedPerson\n                )\n              );\n            })\n            .catch((error) => {\n              console.log(error);\n              setPersons(\n                persons.filter((person) => person.id !== updatedPerson.id) // removes the updated one that was deleted from the server\n              );\n              console.log(persons);\n              setNewName(\"\");\n              setNewNumber(\"\");\n              setMessage(\n                `[ERROR] ${updatedPerson.name} was already deleted form server`\n              );\n              setTimeout(() => {\n                setMessage(null);\n              }, 5000);\n            });\n          setMessage(`${newName} was successfully updated!`);\n          setTimeout(() => {\n            setMessage(null);\n          }, 5000);\n        }\n      }\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber,\n        id: persons.length + 1,\n      };\n      phonebookService.create(personObject).then((returnedPerson) => {\n        setPersons(persons.concat(returnedPerson));\n        setNewName(\"\");\n        setNewNumber(\"\");\n      });\n      setMessage(`${newName} was successfully added!`);\n      setTimeout(() => {\n        setMessage(null);\n      }, 5000);\n    }\n  };\n\n  // synchronises the change made to the input w/ the component state\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value);\n    setNewNumber(event.target.value);\n  };\n\n  const handleDeleteOf = (id) => {\n    const person = persons.find((p) => p.id === id);\n    if (window.confirm(`Delete ${person.name}?`)) {\n      phonebookService.remove(id).then((deletedPerson) => {\n        setPersons(persons.filter((person) => person.id !== id));\n      });\n      setMessage(`${person.name} was successfully deleted!`);\n      setTimeout(() => {\n        setMessage(null);\n      }, 5000);\n    }\n  };\n\n  // filter function\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value);\n    const regex = new RegExp(filter, \"i\");\n    const filteredPersons = () =>\n      persons.filter((person) => person.name.match(regex));\n    setPersons(filteredPersons);\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter value={filter} onChange={handleFilterChange} />\n      <PersonForm\n        addPerson={addPerson}\n        newNameValue={newName}\n        newNumberValue={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n      />\n      <Content persons={persons} handleDeleteOf={handleDeleteOf} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}